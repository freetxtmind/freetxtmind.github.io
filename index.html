<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="FreeTxtMind is an excellent tool for you to use to write outlines and see the connections between ideas in your outlines.">
<title>FreeTxtMind</title>
<link rel="stylesheet" href="codemirror/codemirror.css">
<link rel="stylesheet" href="codemirror/solarized.freetxtmind.css">
<link rel="stylesheet" href="freetxtmind.css?v=1">
<link rel="shortcut icon" href="favicon.png">
</head>
<body>
	<div class="wrap">

    <div id="preview-container"></div>
		<textarea id="textarea" spellcheck="false"></textarea>
		<div id="linenumbers"></div>
		<div id="canvas-panner"></div>

		<div id="reference" class="sidebar">
			<div example-reference class="content">
        <template v-for="item in items">
        <a target="_blank" v-bind:href="'#id/' + item.id">{{item.name}}</a>
        <br/>
        </template>
			</div>

		</div>

		<div id="about" class="sidebar">
			<div class="content">
        <p><Strong>FreeTxtMind</Strong> is an excellent tool for you to use to write outlines and see the connections between ideas in your outlines. You can rearrange the connections in your mind maps by simply cutting and pasting lines from your written outlines.</p>
				<p>Try and edit the code on the left and watch the Mind Map change. Any changes are saved to the browser's
          <i>localStorage</i>, so your Mind Map should be here the next time, (but no guarantees).</p>
				<p>Created by <a href="mailto:freetxtmind@outlook.com">Free Txt Mind</a></p>
				<p>FreeTxtMind was made possible by the cool projects
				<a target="_blank" href="http://zaach.github.io/jison/">jison</a>,
				<a target="_blank" href="https://github.com/cpettitt/dagre">dagre</a>,
				<a target="_blank" href="https://underscorejs.org">underscore</a>,
				<a target="_blank" href="http://typicons.com/">typicons</a> ,
				<a target="_blank" href="https://codemirror.net/">codemirror</a> and
				<a target="_blank" href="http://ethanschoonover.com/solarized">solarized</a>.
				<a target="_blank" href="https://github.com/skanaar/nomnoml">nomnoml</a>.
				</p>

				<hr>

				<h2>Interaction</h2>

				<p>The canvas can be panned and zoomed by dragging and scrolling in the right hand third of the canvas.
				</p>

				<img src="img/interaction-tutorial.svg" alt="interaction tutorial">

				<p>Downloaded image files will be given the filename in the <tt>#title</tt> directive.
				</p>

				<p>Downloaded SVG files will have the source code embedded. Open an exported SVG file to load it's FreeTxtMind source.
				</p>

				<p>The editor supports a subset of <i>Sublime Text's</i> <a href="https://codemirror.net/demo/sublime.html" target="_blank">keymappings</a>.
				</p>

				<hr>

				<h2>Usage</h2>
        <p>Just type some text into the text area, use the tab key to indent text lines.Each line of text is a separate node in the mind map
        </p>
        <h2>Node Type</h2>
        <h3>node id</h3>
        <p>
          Every Node has and id, which is linenumbers by default, you also define custom id for spec node follow with
          node by `#{nodeId}` .
          custom node id only allowed with english charac (/a-zA-Z/)
          you can use custom node id in yaml define
        </p>
        <pre>parentNode
  childNode1 #customNodeId
  childNode2</pre>
				<h3>importantNode</h3>
				<pre>parentNode
  ! childNode1
  childNode2</pre>
				<h3>importantPath</h3>
				<pre>parentNode
  !! childNode1
  childNode2</pre>
				<h3>rangeNode</h3>
				<pre>parentNode
  !* childNode1
  childNode2</pre>

        <h2>Preferences</h2>
        <p>You can change mind map preference by the YAML Back Matter , which is splitted by three `-` char.</p>
        <pre>rootNode
  childNode1
  childNode2
---
  color: gray</pre>
        <h2>YAML Attributes</h2>
				<h3>theme</h3>
        <p>Change the entire Mind Map Style.Available Value is `gray` and `colorful`. Default is `colorful`.</p>
				<h3>colors</h3>
        <p>Change the color of node/branch. Availabe Value is Hex Style Color String. It can
          be a single Value, or Multiple values which is splitted by camma. If colors is single value, All nodes
          and branch's color will be setted that color. If colors is Multiple value, the colors value will be used by
          sequence for  Mind Map's branch or Node</p>
				<h3>colorsMode</h3>
        <p>Change Mind Map colorSet sequenced type. Availabe value is `branch` and `depth`.
          Default is `branch`</p>
				<h3>fontSizes</h3>
        <p>Change Mind Map Node's Text Font Size. When the Value is Multiple which is splitted by camma, the Font Size
          value will be used in sequence by node's depth.</p>
				<h3>direction</h3>
        <p>LR, RL, TB, BT, V, H</p>
				<h3>importantNodes</h3>
        <p>Reference the important node by linenumber or node Id. Multiple important nodes can split by camma.</p>
				<h3>importantPaths</h3>
        <p>Reference the important path by linenumber or node Id. Multiple important paths can split by camma.</p>
				<h3>rangeNodes</h3>
        <p>Reference the range node by linenumber or node Id. Multiple range nodes can split by camma.</p>
				<h3>relations</h3>
        <p>`[NodeId][Link][NodeId]`</p>
        <p>Create relation between two nodes by linenumber or node Id, which is splitted by camma </p>
        <h4>relation's direction</h4>
        <p>`[NodeId][LinkType][NodeId]`</p>
        <p>Nodes can be connected with links/edges. It is possible to have three different types of links.`>` right link
          , `<` left link, `,` normal link</p>
        <h4>relation's note</h4>
        <p>`[NodeId][Link][NodeId]:Note text`</p>
        <h4>Multiple relations</h4>
        <p>Use YAML's Array definition, You can create Multiple relations.</p>
				<h3>annotations</h3>
        <p>`[nodeId][,[nodeId],...]: annotations text`</p>
        <h4>Multiple annotations</h4>
        <p>Use YAML's Array definition, You can create Multiple annotations.</p>
				<h2>Mind Map Yaml Reference</h2>
        <p>You can change Mind Map config by Yaml definition following at the end file, which split by `---`</p>
			</div>
		</div>

		<div id="export" class="sidebar">
			<div class="content">
				<div export-menu class="file-menu">
					<a class="btn" v-bind:href="shareLink" target="_blank">
						<icon id=link-outline></icon> Open shareable link
					</a>
					<a class="btn" href="/" v-on:click.prevent="downloadJpg">
						<icon id=camera-outline></icon> Download JPEG
					</a>

					<a class="btn" href="/" v-on:click.prevent="downloadPng">
						<icon id=camera-outline></icon> Download PNG
					</a>

					<a class="btn" href="/" v-on:click.prevent="downloadSvg">
						<icon id=image-outline></icon> Download SVG with source
					</a>

					<a class="btn" href="/" v-on:click.prevent="downloadSrc">
						<icon id=download-outline></icon> Download source
					</a>
				</div>
			</div>
		</div>

		<div id="files" class="sidebar">
			<div class="content">

				<div file-menu class="file-menu">

					<label class="btn">
						<icon id=image-outline></icon> Open SVG with source...
						<input type="file" accept="image/svg+xml" v-on:change="loadSvg">
					</label>

					<a class="btn" href="/" v-on:click.prevent="saveAs">
						<icon id=document-add></icon> Save to local file...
					</a>

					<hr/>

					<h2>Local files</h2>

					<div v-bind:class="{ 'file-entry': true, active: isAtHome() }">
						<a href="#"><icon id=home-outline></icon> Home</a>
					</div>

					<div v-for="item in items()" v-bind:class="{ 'file-entry': true, 'active': isActive(item) }">
						<a v-bind:href="itemPath(item)">{{item.name}}</a>
						<a v-on:click="discard(item)" title="Discard this diagram">
							<svg width="24" height="24" viewBox="0 0 24 24">
								<path d="M18 7h-1v-1c0-1.1-.8-2-2-2h-7c-1.1 0-2 .8-2 2v1h-1c-.5 0-1 .4-1 1s.4 1 1 1v8c0 2.2 1.7 4 4 4h5c2.2 0 4-1.7 4-4v-8c.5 0 1-.4 1-1s-.4-1-1-1zm-10-1h7v1h-7v-1zm8 11c0 1.1-.8 2-2 2h-5c-1.1 0-2-.8-2-2v-8h9v8zM8.5 10.5c-.2 0-.5.2-.5.5v6c0 .2.2.5.5.5s.5-.2.5-.5v-6c0-.2-.2-.5-.5-.5zM10.5 10.5c-.2 0-.5.2-.5.5v6c0 .2.2.5.5.5s.5-.2.5-.5v-6c0-.2-.2-.5-.5-.5zM12.5 10.5c-.2 0-.5.2-.5.5v6c0 .2.2.5.5.5s.5-.2.5-.5v-6c0-.2-.2-.5-.5-.5zM14.5 10.5c-.2 0-.5.2-.5.5v6c0 .2.2.5.5.5s.5-.2.5-.5v-6c0-.2-.2-.5-.5-.5z"/>
							</svg>
						</a>
					</div>
				</div>

			</div>
		</div>

		<div id="linemarker"></div>

		<div class="tools">
			<a class="logo" href="javascript:void(0)" onclick="app.toggleSidebar('about')" title="About
        FreeTxtMind"><h1>FreeTxtMind</h1> &nbsp;</a>
			<a href="javascript:void(0)" onclick="app.toggleSidebar('about')" title="About FreeTxtMind">
				<svg width="24" height="24" viewBox="0 0 24 24">
					<path d="M14.2 16l.6-1c.8-1.7.9-3.3.2-4.6a4 4 0 0 0-.4-.7 4 4 0 1 0-5-1.6 6.7 6.7 0 0 0-3 1.4A2 2 0 0 0 7.9 13l-.6 1c-.8 1.7-.9 3.3-.2 4.6.5 1.2 1.6 2 3 2.3a6.3 6.3 0 0 0 5.3-1.4 2 2 0 0 0-1-3.5zM13 4a2 2 0 1 1 0 4 2 2 0 0 1 0-4zm-1.8 15h-.9C8.7 18.5 8 17 9 15l1-2c.5-1 .5-1.6-.1-2-.2-.2-.4-.2-.7-.2L8 11s1.1-1 2.8-1h.9c1.6.4 2.3 2 1.3 4l-1 2c-.5 1-.5 1.6.1 2 .2.2.4.2.7.2L14 18s-1.1 1-2.8 1z"/>
				</svg>
			</a>
			<a href="javascript:void(0)" onclick="app.toggleSidebar('reference')" title="examples">
				<svg version="1.2" width="24" height="24" viewBox="0 0 24 24">
					<path d="M17 21H7a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h10a3 3 0 0 1 3 3v12a3 3 0 0 1-3 3zM7 5a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h10c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H7zm9 6H8a.5.5 0 0 1 0-1h8a.5.5 0 0 1 0 1zm0-3H8a.5.5 0 0 1 0-1h8a.5.5 0 0 1 0 1zm0 6H8a.5.5 0 0 1 0-1h8a.5.5 0 0 1 0 1zm0 3H8a.5.5 0 0 1 0-1h8a.5.5 0 0 1 0 1z"/>
				</svg>
			</a>
			<a href="javascript:void(0)" onclick="app.toggleSidebar('export')" title="Export this diagram">
				<svg version="1.2" baseProfile="tiny" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 21.312l-7.121-7.121c-1.17-1.17-1.17-3.073 0-4.242 1.094-1.094 2.978-1.138 4.121-.115v-4.834c0-1.654 1.346-3 3-3s3 1.346 3 3v4.834c1.143-1.023 3.027-.979 4.121.115 1.17 1.169 1.17 3.072 0 4.242l-7.121 7.121zm-5-10.242c-.268 0-.518.104-.707.293-.391.39-.391 1.023 0 1.414l5.707 5.707 5.707-5.707c.391-.391.391-1.024 0-1.414-.379-.379-1.035-.379-1.414 0l-3.293 3.293v-9.656c0-.551-.448-1-1-1s-1 .449-1 1v9.656l-3.293-3.293c-.189-.189-.439-.293-.707-.293z"/></svg>
			</a>
			<a href="javascript:void(0)" onclick="app.toggleSidebar('files')" title="Save this or load another diagram">
				<svg version="1.2" width="24" height="24" viewBox="0 0 24 24">
					<path d="M22.3 8h-2.4c-.4-1.2-1.5-2-2.8-2h-6c0-1.1-.9-2-2-2h-4.1c-1.7 0-3 1.3-3 3v10c0 1.7 1.3 3 3 3h12c1.7 0 3.4-1.3 3.8-3l2.2-8c.1-.6-.2-1-.7-1zm-18.3 1v-2c0-.6.4-1 1-1h4c0 1.1.9 2 2 2h6c.6 0 1 .4 1 1h-11.1c-.6 0-1.1.4-1.3 1l-1.6 6.3v-7.3zm14.9 7.5c-.2.8-1.1 1.5-1.9 1.5h-12s-.4-.2-.2-.8l1.9-7c0-.1.2-.2.3-.2h13.7l-1.8 6.5z"/>
				</svg>
			</a>
			<a href="javascript:app.discardCurrentGraph()" title="Discard this diagram">
				<svg width="24" height="24" viewBox="0 0 24 24">
						<path d="M18 7h-1v-1c0-1.1-.8-2-2-2h-7c-1.1 0-2 .8-2 2v1h-1c-.5 0-1 .4-1 1s.4 1 1 1v8c0 2.2 1.7 4 4 4h5c2.2 0 4-1.7 4-4v-8c.5 0 1-.4 1-1s-.4-1-1-1zm-10-1h7v1h-7v-1zm8 11c0 1.1-.8 2-2 2h-5c-1.1 0-2-.8-2-2v-8h9v8zM8.5 10.5c-.2 0-.5.2-.5.5v6c0 .2.2.5.5.5s.5-.2.5-.5v-6c0-.2-.2-.5-.5-.5zM10.5 10.5c-.2 0-.5.2-.5.5v6c0 .2.2.5.5.5s.5-.2.5-.5v-6c0-.2-.2-.5-.5-.5zM12.5 10.5c-.2 0-.5.2-.5.5v6c0 .2.2.5.5.5s.5-.2.5-.5v-6c0-.2-.2-.5-.5-.5zM14.5 10.5c-.2 0-.5.2-.5.5v6c0 .2.2.5.5.5s.5-.2.5-.5v-6c0-.2-.2-.5-.5-.5z"/>
				</svg>
			</a>

			<div id="tooltip"></div>
			
			<div class="storage-tools">
				<span class="storage-status" v-bind:class="{ visible: isReadOnlyStorage() }">
					View mode, changes are not saved.
					<a v-on:click.prevent="saveViewModeToStorage" href="/"
					   title="Save this diagram to localStorage">save</a>
					<a href="#" title="Discard this diagram">close</a>
				</span>
				
				<span class="storage-status" v-bind:class="{ visible: isLocalFileStorage() }">
					Editing local file
					<a href="#" title="Exit from this file">close</a>
				</span>
			</div>

			<div class="canvas-tools" id="canvas-tools">
				<div class="canvas-button">
					<a href="javascript:app.magnifyViewport(2)" title="Zoom in">
						<svg version="1.2" width="24" height="24" viewBox="0 0 24 24">
							<path d="M18 10h-4v-4c0-1.1-.8-2-2-2s-2 .8-2 2l.0 4h-4.0c-1.1 0-2 .8-2 2s.8 2 2 2l4.0-.0-.0 4.0c0 1.1.8 2 2 2s2-.8 2-2v-4.0l4 .0c1.1 0 2-.8 2-2s-.8-2-2-2z"/>
						</svg>
					</a>
				</div>
				<div class="canvas-button">
					<a href="javascript:app.resetViewport()" title="Reset zoom and panning">
						<svg version="1.2" width="24" height="24" viewBox="0 0 24 24">
							<path d="M18 7h-12c-1.1 0-2 .8-2 2s.8 2 2 2h12c1.1 0 2-.8 2-2s-.8-2-2-2zM18 14h-12c-1.1 0-2 .8-2 2s.8 2 2 2h12c1.1 0 2-.8 2-2s-.8-2-2-2z"/>
						</svg>
					</a>
				</div>
				<div class="canvas-button">
					<a href="javascript:app.magnifyViewport(-2)" title="Zoom out">
						<svg version="1.2" width="24" height="24" viewBox="0 0 24 24">
							<path d="M18 11h-12c-1.1 0-2 .8-2 2s.8 2 2 2h12c1.1 0 2-.8 2-2s-.8-2-2-2z"/>
						</svg>
					</a>
				</div>
			</div>
		</div>
	</div>
	<script type="text/vnd.freetxtmind.class" id="defaultGraph">FreeTxtMind
	yaml
		theme
		colors
		fontSizes
		importantNodes
			importantNodeId #ia
				childNode1
				childNode2
			importantNodeId #ib
			importantNodeId #ic
		importantPaths
			path #pa
			path #pb
		relations
			relationFrom #rf
			relationTo #rt
			relationNote
		annotations
			annotationText #atext
			annotationMessage
	type
		! importantNode
		!! importantPath
		!* rangeNode
			childNode1
			childNode2
---
importantNodes: ia,ib,ic,9
importantPaths: pa,8
rangeNodes: 12,ia
colorsMode: depth
relations:
 - rf,rt
 - rf&gt;18:good
annotations:
 - atext, 3: annotation is very useful
 - 21: single annotation</script>

	<script src="lib/underscore.min.js"></script>
	<script src="lib/filesaver.min.js"></script>
	<script src="lib/rough.min.js"></script>
	<script src="codemirror/codemirror-compressed.js"></script>
	<script src="codemirror/scrollpastend.js"></script>
	<script src="codemirror/freetxtmind.codemirror-mode.js"></script>
	
	<script src="lib/vue.min.js"></script>
	<script src="dist/webapp.js"></script>
	
	<script>
		var app = new App(CodeMirror, saveAs, _)
		ExportMenu('[export-menu]', app)
		FileMenu('[file-menu]', app)
		StorageTools('.storage-tools', app)
		Datas('[example-reference]', app)
	</script>
</body>
</html>
